{% load staticfiles %}{% load string_multiply %}<!DOCTYPE html>
<html lang="en"><head>
<title>{{ SITE_NAME }} / Phenotypes / {{ object|capfirst }}</title>
{% include "head.html" with JavaScript='tablesorter' active='phenotypes' %}
<div class="container-fluid">
  
<ol class="breadcrumb">
  <li><a href="{% url 'phenotypes:index' %}">Phenotypes</a></li>
  <li>{{ object|capfirst }}</li>
</ol>

<p>
{% for ancestor in object.get_ancestors %}
{% filter multiply:ancestor.level %}&nbsp; &nbsp; &nbsp; &nbsp;{% endfilter %} {{ ancestor.link_detail|safe|capfirst }}</br>
{% endfor %}
</p>

{% comment %}
<!-- I can't find an example of output from this, so for now lets
     comment out. -->

<p><strong>Description.</strong> {{ object.description }}</p>
<p><strong>Datasets.</strong></p>
{% endcomment %}

{% if object.datasets %}
<table id="papersTable" class="tablesorter table table-condensed" width="100%">
    {% if request.GET.verbose >= 1 %}
    <col/>
    <col class="bg-info"/>
    <col/>
    <col/>
    <col/>
    <col class="bg-info"/>
    <col/>
    <col class="bg-info"/>
    {% endif %}
  <thead>
    <tr>
      <th>Paper</th>
      {% if request.GET.verbose >= 1 %}<th>Phenotype (varient)</th>{% endif %}
      <th>Conditions</th>
      <th>Collection</th>
      <th>Tested genes</th>
      {% if request.GET.verbose >= 1 %}<th>Tested genes Published / Available</th>{% endif %}
      <th>Data type</th>
      {% if request.GET.verbose >= 1 %}<th>Data source</th>{% endif %}
    </tr>
  </thead><tbody>
    {% for dataset in object.datasets %}
    <tr>
      <td class="text-nowrap">{{ dataset.paper.link_detail|safe }}</td>
      {% if request.GET.verbose >= 1 %}<td>{{ dataset.phenotype }}</td>{% endif %}
      <td>{{ dataset.conditionset }}</td>
      <td>{{ dataset.collection }}</td>
      <td>{{ dataset.tested_num }}</td>
      {% if request.GET.verbose >= 1 %}
      <td>{{ dataset.tested_genes_published|yesno|capfirst }} /
	{{ dataset.tested_source|safe }}</td>
      {% endif %}
      <td>{{ dataset.data_available|capfirst }}</td>
      {% if request.GET.verbose >= 1 %}<td>{{ dataset.data_source|safe }}</td>{% endif %}
    </tr>
    {% endfor %}
  </tbody>
</table>
{% else %}
<aside class="bg-warning">No datasets are available.</aside>
{% endif %}
{% include "footer.html" %}
</div{# container-fluid #}>

<script>$(document).ready(function(){
 $("#papersTable").tablesorter();
});</script>

</body></html>
