{% load staticfiles %}
{% load mptt_tags %}
{% load string_multiply %}
{% load my_filters %}
<html>
<head>

<title>{{ TITLE }} / Phenotypes</title>
<link rel="stylesheet" type="text/css" href="{% static 'papers/style.css' %}" />
<script type="text/javascript" src="{% static 'papers/scripts/jquery.tablesorter/jquery-latest.js' %}"></script> 
<script type="text/javascript" src="{% static 'papers/scripts/jquery.tablesorter/jquery.tablesorter.js' %}"></script>
</head>

<body>
<script>
	$(document).ready(function()
		{
			$("#papersTable").tablesorter();
		}
	);
</script>

<div id="breadcrumbs"><a href="/">{{ TITLE }}</a> / </div>
<h1>Phenotypes</h1>
<table id="papersTable" class="tablesorter" width="100%" border="1">
  <caption>
    <nav>
      <span class="active">As a list</span>
      <span class="inactive" title="Not Implemented"><a href="/phenotypes/stats/">Graphically</a></span>
    </nav>
  </caption>
  <thead>
    <tr>
      <th width="34%"><span>Name</span></th>
      <th width="33%"><span>Conditions</span></th>
      <th width="33%"><span>Papers</span></th>
    </tr>
  </thead>
    <tbody>
    {% recursetree nodes %}
        {% if node.has_annotated_descendants %}
            <tr>
                <td>{% filter multiply:node.level %}&nbsp; &nbsp; &nbsp; &nbsp;{% endfilter %} |&mdash; {{ node.link_detail|safe }}</td>
                <td>{{ node.condition_types|slice:":-2"|safe }}</td>
                <td>{{ node.papers|slice:":-2"|safe }}</td>
                {% if not node.is_leaf_node %}
                    {{ children }}
                {% endif %}
            </tr>
        {% endif %}
    {% endrecursetree %}
    </tbody>
</table>
{% include "footer.html" %}
</body>
</html>
