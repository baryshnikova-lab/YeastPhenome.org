<!DOCTYPE html>
<html lang="en"><head>
{% include "head.html" with JavaScript='tablesorter' %}
<title>{{ SITE_NAME }} / Papers / {{ object }}</title>
<script>$(document).ready(function(){ 
 $("#papersTable").tablesorter({headers:{
  3:{sorter:false},
  4:{sorter:false}
 }});
});</script>
</head><body><div class="container">

 <hgroup>
   <nav><a href="{% url 'index' %}">{{ SITE_NAME }}</a> / <a href="{% url 'papers:all' %}">Papers</a> /</nav>
   <h1>{{ object }}</h1>
 </hgroup>

<div class="row">
  <div class="col-md-8">{% if 0 != object.pmid %}
    <p>PMID <a class="external" href="http://www.ncbi.nlm.nih.gov/pubmed/{{ object.pmid }}/">{{ object.pmid }}</a></p>
    {% endif %}</div><div class="col-md-4">
    <div class="pull-right">{% include "zip.html" %}</div>
    </div>
</div{# row #}>

{% if object.dataset_set.all %}
<table id="papersTable" class="tablesorter table table-condensed" width="100%">
  {% if object.notes %}
  <caption>{{ object.notes }}</caption>
  {% endif %}
  <thead>
    <tr>
      <th rowspan="2">Phenotype</th>
      <th rowspan="2">Condition set</th>
      <th rowspan="2">Collection</th>
      <th colspan="3">Tested genes</th>
      <th colspan="3">Data</th>
      {% if request.GET.verbose >= 1 %}
      <th rowspan="2">Has data</th>
      {% endif %}
    </tr><tr>
      <th>#</th>
      <th>Published</th>
      <th>Available</th>
      <th>Measured</th>
      <th>Published</th>
      <th>Available</th>
    </tr>
  </thead><tbody>
    {% for dataset in object.dataset_set.all %}
    <tr>
      <td>{{ dataset.phenotype.observable2.link_detail|safe }}</td>
      <td>{{ dataset.conditionset }}</td>
      <td>{{ dataset.collection }}</td>
      <td>{{ dataset.tested_num }}</td>
      <td>{{ dataset.tested_genes_published|yesno|capfirst }}</td>
      <td>
        {% if not dataset.tested_source %}
        No
        {% else %}
        {{ dataset.tested_source|safe }}<br>{{ paper.latest_tested_status|capfirst }}
        {% endif %}
      </td>
      <td>{{ dataset.data_measured|capfirst }}</td>
      <td>{{ dataset.data_published|capfirst }}</td>
      <td>{{ dataset.data_available|capfirst }}
        <br>{{ dataset.data_source|safe }}
        <br>{{ paper.latest_data_status|capfirst }}
      </td>
      {% if request.GET.verbose >= 1 %}
      <td>{{ dataset.has_data }}</td>
      {% endif %}
    </tr>
    {% endfor %}
  </tbody>
</table>
{% else %}
{% if object.notes %}<p>{{ object.notes }}</p>{% endif %}
<aside class="bg-warning">No datasets are loaded.</aside>
{% endif %}
{% include "footer.html" %}
</div>{# container #}</body></html>
